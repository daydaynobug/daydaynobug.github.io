<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>文档</title>
    <link rel="stylesheet" href="../common/common.css">
    <link rel="stylesheet" href="../common/font-awesome.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="../common/swiper.min.css">
    <script src="../common/jquery.min.js"></script>
    <script src="../common/swiper.min.js"></script>
    <script src="../common/common.js"></script>
<body>
    <section class="fix-top-nav" style="display: none">
        <div class="container">
            <div class="nav">
                <img src="../common/images/logo-b.png" alt="logo">
                <div class="menu">
                    <ul class="list">
                        <li class="item"><a href="../index.html">首页</a></li>
                        <li class="item">
                            <a href="javascript:void(0)"><span>解决方案 </span><span class="fa fa-caret-down"></span></a>
                            <div class="down">
                                <span class="fa fa-caret-up"></span>
                                <ul class="drop">
                                    <li><a href="../payread/index.html">付费阅读</a></li>
                                    <li><a href="../freeread/index.html">免费阅读</a></li>
                                    <li><a href="../mixread/index.html">付费+免费阅读</a></li>
                                    <li><a href="../internalread/index.html">国际化阅读</a></li>
                                </ul>
                            </div>
                        </li>
                        <li class="item"><a href="../price/index.html">价格</a></li>
                        <li class="item"><a href="../custom/index.html">定制</a></li>
                        <li class="item"><a href="../join/index.html">加盟</a></li>
                        <li class="item active"><a href="../document/index.html">文档</a></li>
                        <li class="item"><a href="../about/index.html">关于我们</a></li>
                    </ul>
                    <div class="button shangqiao">免费体验</div>
                </div>
            </div>
        </div>
    </section>
    <header>
    	<div class="container">
    		<div class="nav">
    			<a href="../index.html"><img src="../common/images/logo-b.png" alt="logo"></a>
    			<div class="menu">
    				<ul class="list">
    					<li class="item"><a href="../index.html">首页</a></li>
    					<li class="item">
    						<a href="javascript:void(0)"><span>解决方案 </span><span class="fa fa-caret-down"></span></a>
							<div class="down">
								<span class="fa fa-caret-up"></span>
								<ul class="drop">
									<li><a href="../payread/index.html">付费阅读</a></li>
									<li><a href="../freeread/index.html">免费阅读</a></li>
									<li><a href="../mixread/index.html">付费+免费阅读</a></li>
									<li><a href="../internalread/index.html">国际化阅读</a></li>
								</ul>
							</div>
    					</li>
    					<li class="item"><a href="../price/index.html">价格</a></li>
    					<li class="item"><a href="../custom/index.html">定制</a></li>
    					<li class="item"><a href="../join/index.html">加盟</a></li>
    					<li class="item active"><a href="../document/index.html">文档</a></li>
    					<li class="item"><a href="../about/index.html">关于我们</a></li>
    				</ul>
    				<div class="button shangqiao">免费体验</div>
    			</div>
    		</div>
    		<div class="banner">
    			<div class="des">
    				<h1>帮助中心</h1>
    			</div>
    		</div>
    	</div>
    </header>
    
    <section class="document" style="background: #F7F4F8">
        <div class="container">
            <div class="left">
                <ul>
                    <li class="active">软象简介<span class="line"></span></li>
                    <li>常见问题<span class="line"></span></li>
                    <li>产品介绍<span class="line"></span></li>
                    <li>特色功能<span class="line"></span></li>
                    <li>基础配置<span class="line"></span></li>
                    <li>产品更新<span class="line"></span></li>
                    <li>被窝动态<span class="line"></span></li>
                    <li>版本记录<span class="line"></span></li>
                </ul>
            </div>
            <div class="right">
                <ul class="content">
                    <li class="list" style="display: none">
                        <div class="page">
                            <ul></ul>
                            <div id="page">
                                <div class="page-tou"><img src="images/left-head.png" alt=""></div>
                                <div class="page-prev"><img src="images/left.png" alt=""></div>
                                <div class="page-content">
                                    <div class="item active">1</div>
                                    <!-- <div class="item">2</div>
                                    <div class="item">3</div>
                                    <div class="item">...</div>
                                    <div class="item">10</div> -->
                                </div>
                                <div class="page-next"><img src="images/right.png" alt=""></div>
                                <div class="page-wei"><img src="images/right-mowei.png" alt=""></div>
                            </div>
                        </div>
                        <div class="detial" style="display: none">
                            <div class="top">
                                <p><i class="fa fa-angle-left"></i> 返回</p>
                                <span>2018-12-28</span>
                            </div>
                            <div class="bot">
                                <h4>版权问题如何解决</h4>
                                <p>软象提供一定量的正版版权资源接入系统（需要和资源方签署分成合作协议）。同时配备多个行内资深专家提供免费答疑，介绍版权资源，进行行业交流，协助运营等服务。详情可联系客服。</p>
                            </div>
                        </div>
                    </li>
                    <li class="article">
                        <h5>软象简介</h5>
                        <p>软象是万象云智公司推出的一站式移动阅读服务，旨在满足企业数字阅读个性化需求。为用户快速搭建移动阅读应用，全方位协助运营，实现内容变现。</p>
                        <h5>被窝阅读</h5>
                        <p>被窝阅读是软象团队推出的数字阅读产品，包括APP、公众号、H5，支持需求定制，覆盖全行业应用场景。</p>
                    </li>
                </ul>
            </div>
        </div>
    </section>


    <footer>
    	<div class="footer-nav">
    		<ul class="des">
    			<li class="tit"><a href="../index.html"><img src="../common/images/logo.png" alt="logo"></a></li>
    			<li class="item spec">被窝读书，系软象团队推出的一站式移动阅读产品。支持APP、公众号、H5三端，小说、漫画、听书等内容可快速上线运营。支持应用定制，提供行业咨询、辅助运营等服务，旨在满足企业数字化阅读需求。</li>
    			<li class="item">服务热线：13070187708</li>
    			<li class="item">客服QQ：2110555907</li>
    			<li class="item">公司地址：北京市朝阳区东亚望京中心B座3221</li>
    		</ul>
    		<ul class="service">
    			<li class="tit">产品服务</li>
    			<li class="item"><a href="../index.html#function">产品功能</a></li>
    			<li class="item"><a href="../price/index.html">产品定价</a></li>
    			<li class="item"><a href="../custom/index.html">定制服务</a></li>
    			<li class="item shangqiao"><a href="javascript:void(0)">免费升级</a></li>
                <li class="item shangqiao"><a href="javascript:void(0)">版权合作</a></li>
                <li class="item shangqiao"><a href="javascript:void(0)">7*24小时服务</a></li>
    		</ul>
    		<ul class="scenes">
    			<li class="tit">服务场景</li>
    			<li class="item"><a href="../payread/index.html">付费阅读</a></li>
    			<li class="item"><a href="../freeread/index.html">免费阅读</a></li>
    			<li class="item"><a href="../mixread/index.html">付费+免费阅读</a></li>
    			<li class="item"><a href="../internalread/index.html">国际化数字阅读</a></li>
    		</ul>
    		<ul class="more">
    			<li class="tit">了解更多</li>
    			<li class="item"><a href="../about/index.html">关于我们</a></li>
    			<li class="item"><a href="../join/index.html">加盟合作</a></li>
    			<li class="item"><a href="../document/index.html">帮助中心</a></li>
    			<li class="item"><a href="../about/index.html#help">新闻动态</a></li>
    		</ul>
    		<ul class="demo">
    			<li class="tit">查看演示</li>
    			<li class="item"><img src="../common/images/code.png" alt=""></li>
    		</ul>
    	</div>
    	<div class="copy-right">Copyright ©2019 -2020：北京万象云智科技有限公司 版权所有 京ICP备17059203号-2</div>
    </footer>
    <div class="fixed">
    	<ul>
    		<li class="shangqiao"><img class="not" src="../common/images/fixed-1.png" alt=""><img class="select" src="../common/images/fixed-1-s.png" alt=""></li>
    		<li>
    			<img class="not" src="../common/images/fixed-2.png" alt=""><img class="select" src="../common/images/fixed-2-s.png" alt="">
    			<div class="text phone">电话：13070187708</div>
    		</li>
    		<li id="back-top">
    			<img class="not" src="../common/images/fixed-3.png" alt=""><img class="select" src="../common/images/fixed-3-s.png" alt="">
    			<div class="text top">返回顶部</div>
    		</li>
    	</ul>
    </div>
</body>
</html>
<script>
    $(document).ready(function(){
        var data={};
        function init(category,page){
            data.category = category
            data.page = page
            if(category){
                $(".document .left li").eq(category).addClass('active');
                $(".document .left li").eq(category).siblings().removeClass('active');
                $('.right .list').show()
                $('.right .article').hide()
            }
            getArticleList(data.category,data.page)
        };
        function getArticleList(category,page){
            $.ajax({
                url:'http://localhost:3000/getArticleList?category='+category+'&page='+page,
                type: "GET",
                success:function(res){
                    data.category=category
                    data.page=page
                    data.total = res.totalCount
                    data.list = res.items
                    initPage()
                    rendList()
                }
            })
        };
        function getArticle(id){
            $.ajax({
                url:'http://localhost:3000/getArticleData?id='+id,
                type: "GET",
                success:function(res){
                    console.log(res)
                    rendArticle(res)
                }
            })
        };
        function rendArticle(res){
            $('.detial .top span').html(res.items.date)
            $('.detial .bot h4').html(res.items.title)
            $('.detial .bot p').html(res.items.content)
        }
        function rendList(){
            var listHtml = ''
            data.list.forEach(function(element){
                listHtml+='<li><p>'+element.title+'</p><span>'+element.date+'</span></li>'
            })
            $('.document .right .content .list ul').html(listHtml)
            $('.document .right .content .list ul li').click(function(){
                getArticle(data.list[$(this).index()].id)
                $('.page').hide()
                $('.detial').show()
            })
        };
        function initPage(){
            data.maxPage = Math.ceil(data.total/10)
            console.log(data.maxPage)
            // if($("#page .page-content .item")){
            //     $("#page .page-content .item").forEach(function(element){
            //         if($(element).text()==data)
            //     })
            // }
            
            rendPage()
        }
        function rendPage(isSclice){
            var pageHtml = ''
            if(data.maxPage>5){
                if(data.maxPage-data.page>=5){
                    for (var i = 0; i < 5; i++) {
                        if(i<=2){
                            pageHtml+='<div class="item '+(data.page==data.page+i?"active":"")+'">'+(data.page+i)+'</div>'
                        }else if(i==3){
                            pageHtml+='<div class="shenlue">...</div>'
                        }else{
                            pageHtml+='<div class="item">'+data.maxPage+'</div>'
                        }
                    }
                }else{
                    for (var i = 0; i < 5; i++) {
                        pageHtml+='<div class="item '+(data.page==data.maxPage+i-4?"active":"")+'">'+(data.maxPage+i-4)+'</div>'
                    }
                }
            }else{
               for (var i = 0; i < data.maxPage; i++) {
                    pageHtml+='<div class="item '+(data.page==i+1?"active":"")+'">'+(i+1)+'</div>'
                }
            }
            $('#page .page-content').html(pageHtml)
        }
        $('.page-prev').click(function(){
            data.page--
            if(data.page<1){
                data.page = 1
            }else{
                getArticleList(data.category,data.page)
            }
        })
        $('.page-next').click(function(){
            data.page++
            if(data.page>data.maxPage){
                data.page = data.maxPage
            }else{
                getArticleList(data.category,data.page)
            }
        })
        $('.page-tou').click(function(){
            if(data.page!=1){
                data.page = 1
                getArticleList(data.category,data.page)
            }
        })
        $('.page-wei').click(function(){
            if(data.page!=data.maxPage){
                data.page = data.maxPage
                getArticleList(data.category,data.page)
            }
        })

        $("#page .page-content").on("click",".item",function () {
            console.log($(this).text())
            if($(this).text()!='...'&&data.page!=$(this).text()){
                data.page=parseInt($(this).text())
                getArticleList(data.category,data.page)
            }
        })
        $(".document .left li").click(function(){
            if($(this).index()!=0){
                console.log($(this))
                getArticleList($(this).index(),1)
                $('.second-nav .menu li').removeClass('active')
                $(this).addClass('active');
                $(this).siblings().removeClass('active');
                $('.right .list').show()
                $('.right .article').hide()
            }else{
                $(this).addClass('active');
                $(this).siblings().removeClass('active');
                $('.right .list').hide()
                $('.right .article').show()
            }
        })
        $('.detial p').click(function(){
            $('.page').show()
            $('.detial').hide()
        })
        function getQueryVariable(variable){
           var query = window.location.search.substring(1);
           var vars = query.split("&");
           for (var i=0;i<vars.length;i++) {
                   var pair = vars[i].split("=");
                   if(pair[0] == variable){return pair[1];}
           }
           return(false);
        }
        let cate = getQueryVariable('category')
        let page = getQueryVariable('page')
        if(cate){
            if(page){
                init(cate,page)
            }else{
                init(cate,1)
            }
        }
        
    })
</script>